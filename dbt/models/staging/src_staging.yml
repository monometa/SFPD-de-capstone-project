version: 2

# TO-DO: make documentation for tables

sources:
    - name: police_staging 
      database: gold-totem-359211
      schema: police_staging 
      tables:
        - name: sfpd_data_2018-to-present_external_table  
        - name: sfpd_data_2003-to-2017_external_table 


models:
  - name: stg_historical_dset
    columns:
      - name: ID
        tests:
          - not_null
          - unique
      - name: Incident_Category
        tests:
          - not_null

  - name: int_historical_dset
    columns:
      - name: ID
        tests:
          - not_null
          - unique
      - name: Incident_Category
        tests:
          - accepted_values:
              values:
                - 'Larceny Theft'
                - 'Burglary'
                - 'Assault'
                - 'Robbery'
                - 'Motor Vehicle Theft'
                - 'Drug Offense'

  - name: stg_modern_dset
    columns:
      - name: ID
        tests:
          - not_null
          - unique
      - name: Incident_Category
        tests:
          - not_null